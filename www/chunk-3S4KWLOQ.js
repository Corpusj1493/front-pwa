import{d as r,f as n,h as s,ia as p}from"./chunk-GMILRXJ6.js";var l={production:!0,apiUrl:"https://localhost:8000/api"};var i="auth_token",f=(()=>{let e=class e{constructor(o){this.http=o,this.apiUrl=l.apiUrl}getToken(){return localStorage.getItem(i)}login(o){return this.http.post(`${this.apiUrl}/login`,o).pipe(r(t=>{t.success&&t.data.token&&(localStorage.setItem(i,t.data.token),localStorage.setItem("user_data",JSON.stringify(t.data.user)))}))}register(o){return this.http.post(`${this.apiUrl}/register`,o).pipe(r(t=>{t.success&&t.token&&(localStorage.setItem(i,t.token),localStorage.setItem("user_data",JSON.stringify(t.data)))}))}logout(){return this.http.post(`${this.apiUrl}/logout`,{}).pipe(r(()=>{localStorage.removeItem(i),localStorage.removeItem("user_data")}))}isAuthenticated(){return!!this.getToken()}};e.\u0275fac=function(t){return new(t||e)(s(p))},e.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"});let a=e;return a})();export{l as a,f as b};
