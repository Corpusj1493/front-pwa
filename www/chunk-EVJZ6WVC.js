import{a as W,b as O,d as q,e as A,f as U,g as V,h as j,i as z,j as G,k as H,l as J,m as K,n as Q,o as X,q as Y,s as Z}from"./chunk-AIFNCWBK.js";import"./chunk-VTKDWUYY.js";import"./chunk-QUJFQN2Y.js";import"./chunk-OJE7KO2I.js";import"./chunk-OLP7TZLS.js";import"./chunk-MNWVQ2GV.js";import"./chunk-NNIJTWKE.js";import"./chunk-VJBCUAKI.js";import"./chunk-UZJHEFYY.js";import"./chunk-7FY2OE2O.js";import"./chunk-TB63JOC5.js";import"./chunk-ZP4JA4YW.js";import"./chunk-LOS5H76W.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-KPJOILWU.js";import"./chunk-CKP3SGE2.js";import"./chunk-ET6LRVPN.js";import{b as R}from"./chunk-3S4KWLOQ.js";import{$ as h,A as u,D as d,E as e,F as n,G as c,P as I,Q as M,Qa as E,Ra as T,Sa as k,Ta as F,Ua as N,X as l,Xa as B,Y as S,Ya as D,Z as p,_ as f,ba as v,c as _,ea as C,ga as x,na as L,oa as w,qa as P,s as a,u as g,w as y}from"./chunk-GMILRXJ6.js";import"./chunk-H2UQMALX.js";import"./chunk-3XMQAUZW.js";import"./chunk-M5P7WWVC.js";import"./chunk-EBR2FFRC.js";import"./chunk-CLDSZD2A.js";import"./chunk-M2X7KQLB.js";import"./chunk-FNBMHXHF.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var ee=()=>["/register"];function ie(t,r){if(t&1&&(e(0,"ion-note",19),l(1),n()),t&2){let $=M();a(),S($.errorMessage)}}function ne(t,r){t&1&&c(0,"ion-spinner",20)}function te(t,r){t&1&&(e(0,"span"),l(1,"Iniciar Sesi\xF3n"),n())}var fe=(()=>{let r=class r{constructor(o,m){this.authService=o,this.router=m,this.credentials={email:"",password:""},this.isLoading=!1,this.errorMessage=null}ngOnInit(){this.authService.isAuthenticated()&&this.router.navigateByUrl("/tabs/tab1",{replaceUrl:!0})}login(){this.isLoading=!0,this.errorMessage=null,this.authService.login(this.credentials).pipe(_(()=>{this.isLoading=!1})).subscribe({next:o=>{o.success&&this.router.navigateByUrl("/tabs/tab1",{replaceUrl:!0})},error:o=>{o.status===401?this.errorMessage="Credenciales inv\xE1lidas. Verifica tu correo y contrase\xF1a.":o.error&&o.error.message?this.errorMessage=o.error.message:this.errorMessage="Ocurri\xF3 un error en el servidor. Int\xE9ntalo de nuevo."}})}};r.\u0275fac=function(m){return new(m||r)(g(R),g(L))},r.\u0275cmp=y({type:r,selectors:[["app-login"]],decls:30,vars:9,consts:[[3,"translucent"],["color","primary"],[1,"ion-padding","custom-background"],[1,"login-container"],[1,"ion-text-center","ion-margin-bottom"],["name","map-outline","size","large","color","primary"],[1,"modern-card"],[3,"ngSubmit"],["fill","solid","shape","round",1,"ion-margin-bottom"],["name","mail-outline","slot","start","color","medium"],["label","Correo Electr\xF3nico","type","email","labelPlacement","floating","name","email","required","",3,"ngModelChange","ngModel"],["name","lock-closed-outline","slot","start","color","medium"],["label","Contrase\xF1a","type","password","labelPlacement","floating","name","password","required","",3,"ngModelChange","ngModel"],["color","danger","class","ion-padding-start",4,"ngIf"],["expand","block","shape","round","type","submit","color","primary",1,"ion-margin-top",3,"disabled"],["name","crescent",4,"ngIf"],[4,"ngIf"],[1,"ion-text-center","ion-margin-top"],["fill","clear","color","secondary",3,"routerLink"],["color","danger",1,"ion-padding-start"],["name","crescent"]],template:function(m,i){m&1&&(e(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),l(3,"Iniciar Sesi\xF3n"),n()()(),e(4,"ion-content",2)(5,"div",3)(6,"div",4),c(7,"ion-icon",5),e(8,"h2"),l(9,"Bienvenido a PWA Reviews"),n(),e(10,"p"),l(11,"Descubre y comparte lugares incre\xEDbles."),n()(),e(12,"ion-card",6)(13,"ion-card-content")(14,"form",7),I("ngSubmit",function(){return i.login()}),e(15,"ion-item",8),c(16,"ion-icon",9),e(17,"ion-input",10),h("ngModelChange",function(s){return f(i.credentials.email,s)||(i.credentials.email=s),s}),n()(),e(18,"ion-item",8),c(19,"ion-icon",11),e(20,"ion-input",12),h("ngModelChange",function(s){return f(i.credentials.password,s)||(i.credentials.password=s),s}),n()(),u(21,ie,2,1,"ion-note",13),e(22,"ion-button",14),u(23,ne,1,0,"ion-spinner",15)(24,te,2,0,"span",16),n()()()(),e(25,"div",17)(26,"ion-label"),l(27,"\xBFNo tienes una cuenta?"),n(),e(28,"ion-button",18),l(29," Reg\xEDstrate aqu\xED "),n()()()()),m&2&&(d("translucent",!0),a(17),p("ngModel",i.credentials.email),a(3),p("ngModel",i.credentials.password),a(),d("ngIf",i.errorMessage),a(),d("disabled",i.isLoading),a(),d("ngIf",i.isLoading),a(),d("ngIf",!i.isLoading),a(4),d("routerLink",v(8,ee)))},dependencies:[Z,O,q,A,U,V,j,z,G,H,J,K,Q,X,W,Y,x,C,D,N,E,T,B,F,k,P,w],styles:[".custom-background[_ngcontent-%COMP%]{--ion-background-color: var(--ion-color-light, #f4f5f8)}.login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;max-width:450px;margin:0 auto}.modern-card[_ngcontent-%COMP%]{width:100%;box-shadow:0 4px 20px #00000014;border-radius:12px}ion-item[_ngcontent-%COMP%]{--border-radius: 8px;--min-height: 50px;--inner-padding-end: 16px}"]});let t=r;return t})();export{fe as LoginPage};
